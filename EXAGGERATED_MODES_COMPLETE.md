# Exaggerated Behavior Modes - Now More Distinct! üé≠

## Problem Solved

**Before:** Modes felt too similar - hard to tell SHADOW from MIRROR from COUPLE  
**After:** EXTREME differences - each mode has a unique musical personality

---

## What Changed

### 1. **More Extreme Parameters**
- **Temperature:** 0.3 (SHADOW) ‚Üí 1.0 (MIRROR) ‚Üí 1.8 (COUPLE)
- **Similarity:** 0.95 (SHADOW) ‚Üí 0.7 (MIRROR) ‚Üí 0.05 (COUPLE)
- **Response Delay:** 0.1s (SHADOW) ‚Üí phrase_aware (MIRROR) ‚Üí 3.0s (COUPLE)

### 2. **NEW: Pitch Offset (Register Shifts)**
Each mode now plays in a different register:
- **SHADOW:** Same register (0 semitones)
- **MIRROR:** Same register (0 semitones)
- **COUPLE:** Octave higher (+12 semitones)
- **CONTRAST:** Octave lower (-12 semitones)
- **LEAD:** Perfect 5th above (+7 semitones)

### 3. **NEW: Note Density (Sparse vs. Dense)**
Each mode now has different rhythmic density:
- **SHADOW:** 150% density (chatty, more notes)
- **MIRROR:** 100% density (same as you)
- **COUPLE:** 60% density (sparse, spacious)
- **CONTRAST:** 70% density (sparse counterpoint)
- **LEAD:** 80% density (slightly sparse, leading)

---

## The 6 Modes - What You'll Now Hear/Feel

### üåë SHADOW (Close Imitation)
**Musical Character:** "Your echo, but anxious"

**Parameters:**
- Similarity: 0.95 (almost slavish)
- Temperature: 0.3 (very predictable)
- Response Delay: 0.1s (IMMEDIATE)
- Volume: 60% (background shadow)
- Density: 150% (more notes, chattering)
- Pitch: Same register

**What it feels like:**
- Responds INSTANTLY (almost overlapping)
- Plays VERY similar patterns (copycat)
- Quieter than you (in the background)
- MORE notes than you played (nervous energy)
- "Following you around, never leaving space"

**Best for:** Creating dense textures, feeling supported/accompanied

---

### ü™û MIRROR (Recognizable Variation)
**Musical Character:** "Your reflection, with its own personality"

**Parameters:**
- Similarity: 0.7 (recognizable but different)
- Temperature: 1.0 (balanced)
- Response Delay: phrase_aware (waits for pauses)
- Volume: 85% (conversational)
- Density: 100% (same as you)
- Pitch: Same register

**What it feels like:**
- Waits for YOU to finish phrases
- Responds with recognizable variations
- Balanced volume (equal conversation)
- Similar note density (matching energy)
- "Listening and responding, turn-taking"

**Best for:** Musical dialogue, call-and-response, balanced partnership

---

### üíë COUPLE (Independent Partner)
**Musical Character:** "Doing their own thing, aware of you"

**Parameters:**
- Similarity: 0.05 (extremely independent)
- Temperature: 1.8 (wild exploration)
- Response Delay: 3.0s (long delay)
- Volume: 120% (LOUDER, equal partner)
- Density: 60% (SPARSE, spacious)
- Pitch: Octave HIGHER (+12)

**What it feels like:**
- LONG delays before responding (3 seconds!)
- Plays completely different material
- LOUDER than you (equal partnership)
- FEWER notes (spacious, giving room)
- Octave HIGHER (distinct voice, floating above)
- "We're together but doing our own thing"

**Best for:** Polyphonic texture, independence, two-voice counterpoint

---

### üë§ IMITATE (Original Mode)
**Musical Character:** "Trying to copy you"

**Parameters:**
- Similarity: 0.85 (close)
- Temperature: 0.6 (fairly predictable)
- Response Delay: 0.2s (quick)
- Volume: 70% (background)
- Density: 100% (same)
- Pitch: Same register

**What it feels like:**
- Quick responses (0.2s)
- Close imitation but not slavish
- Slightly quieter
- Same energy level

**Best for:** Support, accompaniment

---

### üé® CONTRAST (Intentional Difference)
**Musical Character:** "Deliberately different, counterpoint"

**Parameters:**
- Similarity: 0.15 (very different)
- Temperature: 1.5 (exploratory)
- Response Delay: 1.5s (moderate delay)
- Volume: 100% (equal)
- Density: 70% (somewhat sparse)
- Pitch: Octave LOWER (-12)

**What it feels like:**
- Moderate delay (1.5s)
- Deliberately contrasting material
- Equal volume
- Slightly fewer notes
- Octave LOWER (bass counterpoint, grounding)
- "I hear you, but I'm doing something else"

**Best for:** Harmonic grounding, bass lines, contrary motion

---

### üéØ LEAD (Anticipatory)
**Musical Character:** "Leading you forward, suggesting directions"

**Parameters:**
- Similarity: 0.5 (balanced)
- Temperature: 1.1 (slightly exploratory)
- Response Delay: 0.0s (NO delay, anticipatory)
- Volume: 110% (slightly louder, leading)
- Density: 80% (slightly sparse)
- Pitch: Perfect 5th ABOVE (+7)

**What it feels like:**
- NO delay (responds immediately or even slightly before!)
- Balanced material (not copying, not contrasting)
- Slightly LOUDER (assertive, leading)
- Slightly fewer notes (space for you to follow)
- Perfect 5th HIGHER (+7 semitones, harmonic)
- "Here's where we could go..."

**Best for:** Suggesting harmonic directions, melodic leading

---

## How to Experience the Differences

### Test Each Mode:

**1. Play a Simple Melody (C-D-E-F-G)**

**SHADOW:**
- Hears: C-D-E-F-G
- Plays: C-D-E-F-G-F-E (IMMEDIATELY, more notes, same register, quiet)

**MIRROR:**
- Hears: C-D-E-F-G [you finish]
- Plays: [pause] C-E-G-A-C (similar contour, same register, medium volume)

**COUPLE:**
- Hears: C-D-E-F-G
- Plays: [3 second delay] G-E [octave HIGHER, sparse, LOUD]

**CONTRAST:**
- Hears: C-D-E-F-G
- Plays: [1.5s delay] A-F-D [octave LOWER, sparse, bass line]

**LEAD:**
- Hears: C-D-E
- Plays: [immediately] G-A [5th HIGHER, suggesting dominant]

---

### 2. Play a Sustained Chord (Hold C-E-G)

**SHADOW:**
- Chatters around it with MANY notes, same register, quiet
- "I hear you! I hear you! I'm here!"

**MIRROR:**
- Waits for you to release, then plays a variation
- "Okay, my turn..."

**COUPLE:**
- [3 second pause] Plays D-A octave higher, sparse
- "While you do that, I'll do this..."

**CONTRAST:**
- [1.5s pause] Plays F-A-C octave lower (bass movement)
- "Here's the foundation..."

**LEAD:**
- Immediately plays G-B-D (dominant chord) 5th higher
- "Let's go here next..."

---

### 3. Play Sparsely (One Note Every 2 Seconds)

**SHADOW:**
- Fills in with MORE notes (1.5x density), immediate
- "Let me fill these gaps!"

**MIRROR:**
- Matches your sparseness (1.0x density), waits for pauses
- "I'll match your energy..."

**COUPLE:**
- Even SPARSER (0.6x density), long delays, octave higher
- "I'll give you tons of space..."

**CONTRAST:**
- Somewhat sparse (0.7x density), octave lower
- "Bass notes to ground you..."

**LEAD:**
- Slightly sparse (0.8x density), 5th higher, immediate
- "Harmonic suggestions..."

---

## Terminal Output - Watch for Mode Changes

```
üé≠ Mode shift: SHADOW (will persist for 67s)
‚Üí Expect: Quick, chatty, quiet responses in same register

[67 seconds later]
üé≠ Mode shift: COUPLE (will persist for 45s)
‚Üí Expect: Delayed, sparse, LOUD responses octave higher

[45 seconds later]
üé≠ Mode shift: MIRROR (will persist for 52s)
‚Üí Expect: Phrase-aware, balanced, same register
```

---

## Implementation Details

### Files Modified:
- `agent/behaviors.py` - Exaggerated parameters, added `get_note_density()` and `get_pitch_offset()`
- Applied pitch transposition and density filtering to note generation

### Key Changes:
1. **Temperature Range:** 0.3 ‚Üí 1.8 (was 0.7 ‚Üí 1.3)
2. **Similarity Range:** 0.05 ‚Üí 0.95 (was 0.1 ‚Üí 0.9)
3. **Delay Range:** 0.0s ‚Üí 3.0s (was 0.2s ‚Üí 2.0s)
4. **NEW: Pitch Offsets:** -12 to +12 semitones
5. **NEW: Note Density:** 60% to 150%

---

## Expected Musical Impact

### Before (Subtle):
- "Hmm, is it doing something different? Hard to tell..."
- Modes blend together
- Feels like one consistent partner

### After (Exaggerated):
- "WHOA! That's completely different!"
- Modes feel like distinct personalities
- Each mode transition creates a clear shift in the relationship

### Trade-offs:
- ‚úÖ **Pro:** Modes are NOW unmistakably different
- ‚úÖ **Pro:** Creates variety and surprise
- ‚úÖ **Pro:** Better matches IRCAM research intent
- ‚ö†Ô∏è **Con:** Might be TOO extreme for some tastes (can be dialed back if needed)
- ‚ö†Ô∏è **Con:** Pitch offsets might clash harmonically (intentional!)

---

## Testing

```bash
python MusicHal_9000.py \
  --hybrid-perception \
  --wav2vec \
  --gpu \
  --visualize \
  --performance-duration 3
```

**Play for 3 minutes and count mode transitions:**
- Avg 1-2 mode changes per performance
- Each change should be OBVIOUS now
- Watch Request Parameters viewport for mode badge

**Try This:**
1. Play a simple scale
2. Wait for mode change announcement
3. Play the SAME scale again
4. Compare: Should feel COMPLETELY different!

---

## Summary

‚úÖ **6 distinct modes** with extreme parameter differences  
‚úÖ **Pitch offsets** create register separation (octaves, 5ths)  
‚úÖ **Note density** creates sparse/dense feel  
‚úÖ **Response delays** from instant (SHADOW) to 3 seconds (COUPLE)  
‚úÖ **Volume differences** from background (SHADOW 60%) to equal partner (COUPLE 120%)  

**Result:** Each mode now feels like a different musical personality! üé≠

Test it and let me know if the modes are now distinct enough, or if some need further adjustment!










